{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block conteudo %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-12 col-md-10 col-lg-8">
            <div class="card shadow-sm">
                <div class="card-header bg-warning text-white">
                    <h5 class="mb-0">Edição de Contrato</h5>
                </div>
                <div class="card-body">
                    <form method="post" action="{% url 'edita_contrato' id %}">
                        {% csrf_token %}
                        <div class="col-md-6 d-flex justify-content-left">
                            <div class="form-check form-switch mt-2">
                                {{ form.ativo }}
                                <!--Campo ativo acima de todos-->
                                <label class="form-check-label ms-2" for="{{ form.ativo.id_for_label }}">
                                    {% if form.ativo %}
                                    Desmarque para inativar este contrato
                                    {% else %}
                                    Marque para ativar este contrato
                                    {% endif %}
                                </label>
                            </div>
                        </div>
                        <!-- Número e Nome lado a lado -->
                        <div class="row g-2 mb-3">
                            <div class="col-md-6">
                                {{ form.numero|as_crispy_field }}
                            </div>
                            <div class="col-md-6">
                                {{ form.nome|as_crispy_field }}
                            </div>
                        </div>

                        <!-- Cliente e Ativo lado a lado -->
                        <div class="row g-2 mb-3 align-items-center">
                            <div class="col-md-9">
                                {{ form.cliente|as_crispy_field }}
                            </div>
                        </div>

                        <!-- Dias de relatório lado a lado -->
                        <div class="row g-2 mb-3">
                            <div class="col-md-6">
                                {{ form.dia_inicia_relatorio|as_crispy_field }}
                            </div>
                            <div class="col-md-6">
                                {{ form.dia_finaliza_relatorio|as_crispy_field }}
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-3">
                            <a href="{% url 'controle_contratos' %}" class="btn btn-outline-secondary btn-sm">
                                <i class="bi bi-arrow-left"></i> Voltar
                            </a>
                            <button type="submit" class="btn btn-warning btn-sm">
                                <i class="bi bi-pencil-square"></i> Salvar Alterações
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
